dados <- read_excel("medfinal_rank_decis.xlsx")


# Supondo que seu DataFrame se chame 'dados'
# Transforme os dados para o formato longo
library(tidyr)
library(dplyr)

dados_long <- dados %>%
  pivot_longer(cols = -Decil, names_to = "Ano", values_to = "Valor") %>%
  mutate(Ano = as.numeric(Ano))  # Convertendo 'Ano' para numérico se não estiver



##### decis como dummies

# Criando as variáveis dummy para os decis
dados_long <- dados_long %>%
  mutate(Decil = factor(Decil))

# Fazendo a regressão
modelo <- lm(Valor ~ Ano + Decil, data = dados_long)

# Resumo do modelo
resumo <- summary(modelo)

coeficientes <- resumo$coefficients




##### anos como dummies



# Criando as variáveis dummy para os anos
dados_long_inv <- dados_long %>%
  mutate(Ano = factor(Ano))

# Fazendo a regressão
modelo_inv <- lm(Valor ~ Decil + Ano, data = dados_long_inv)

# Resumo do modelo
resumo_inv <- summary(modelo_inv)

coeficientes_inv <- resumo_inv$coefficients
